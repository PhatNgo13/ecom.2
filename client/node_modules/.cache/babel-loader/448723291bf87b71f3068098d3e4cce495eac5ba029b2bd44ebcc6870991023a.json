{"ast":null,"code":"import _regeneratorRuntime from\"/Users/phatngo/Downloads/ecom.2-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/phatngo/Downloads/ecom.2-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/phatngo/Downloads/ecom.2-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Albums from\"./Albums\";import Filter from\"./Filter\";//CUSTOM HOOK TO FETCH MYSQL DATA\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UseFetchProduct=function UseFetchProduct(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),albums=_useState2[0],setAlbums=_useState2[1];//FILTERED AND ACTIVE STATES TO STORE CHANGES WITHIN STATES\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filtered=_useState4[0],setFiltered=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),active=_useState6[0],setActive=_useState6[1];//MUST USE AN ASYNC FUNCTION TO MAKE A CALL TO API\nuseEffect(function(){var fetchAllalbums=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/all/albums\");case 3:res=_context.sent;console.log(res);setAlbums(res.data);setFiltered(res.data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchAllalbums(){return _ref.apply(this,arguments);};}();fetchAllalbums();//DEPENDENCIES, ONLY RUN ONCE\n},[]);//SET RETURN ANOTHER COMPONENT TO DISPLAY THE ALBUMS\n//USE MAP TO MAP ALBUM FROM DATABASE TO THE FRONT END\n//CALLING FILTER COMPONENT\n//SET FILTERED VARIABLE TO MAP ONLY THE FILTERED ALBUMS\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5 my-5\",children:[/*#__PURE__*/_jsx(Filter,{albums:albums,setFiltered:setFiltered,active:active,setActive:setActive}),/*#__PURE__*/_jsx(\"div\",{className:\"all-albums\",children:filtered.map(function(album){return/*#__PURE__*/_jsx(Albums,{album:album},album.id);})})]});};export default UseFetchProduct;","map":{"version":3,"names":["React","useEffect","useState","axios","Albums","Filter","UseFetchProduct","albums","setAlbums","filtered","setFiltered","active","setActive","fetchAllalbums","get","res","console","log","data","map","album","id"],"sources":["/Users/phatngo/Downloads/ecom.2-master/client/src/components/UseFetchProduct.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Albums from \"./Albums\";\nimport Filter from \"./Filter\";\n\n//CUSTOM HOOK TO FETCH MYSQL DATA\nconst UseFetchProduct = () => {\n  const [albums, setAlbums] = useState([]);\n  //FILTERED AND ACTIVE STATES TO STORE CHANGES WITHIN STATES\n  const [filtered, setFiltered] = useState([]);\n  const [active, setActive] = useState(\"\");\n\n  //MUST USE AN ASYNC FUNCTION TO MAKE A CALL TO API\n  useEffect(() => {\n    const fetchAllalbums = async () => {\n      try {\n        const res = await axios.get(\"/all/albums\");\n        console.log(res);\n        setAlbums(res.data);\n        setFiltered(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAllalbums();\n    //DEPENDENCIES, ONLY RUN ONCE\n  }, []);\n\n  //SET RETURN ANOTHER COMPONENT TO DISPLAY THE ALBUMS\n  //USE MAP TO MAP ALBUM FROM DATABASE TO THE FRONT END\n  //CALLING FILTER COMPONENT\n  //SET FILTERED VARIABLE TO MAP ONLY THE FILTERED ALBUMS\n  return (\n    <div className=\"container py-5 my-5\">\n      <Filter\n        albums={albums}\n        setFiltered={setFiltered}\n        active={active}\n        setActive={setActive}\n      />\n      <div className=\"all-albums\">\n        {filtered.map((album) => {\n          return <Albums key={album.id} album={album} />;\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default UseFetchProduct;\n"],"mappings":"yZAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,UAAU,CAC7B,MAAOC,OAAM,KAAM,UAAU,CAE7B;AAAA,wFACA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,cAA4BJ,QAAQ,CAAC,EAAE,CAAC,wCAAjCK,MAAM,eAAEC,SAAS,eACxB;AACA,eAAgCN,QAAQ,CAAC,EAAE,CAAC,yCAArCO,QAAQ,eAAEC,WAAW,eAC5B,eAA4BR,QAAQ,CAAC,EAAE,CAAC,yCAAjCS,MAAM,eAAEC,SAAS,eAExB;AACAX,SAAS,CAAC,UAAM,CACd,GAAMY,eAAc,4FAAG,kLAEDV,MAAK,CAACW,GAAG,CAAC,aAAa,CAAC,QAApCC,GAAG,eACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBP,SAAS,CAACO,GAAG,CAACG,IAAI,CAAC,CACnBR,WAAW,CAACK,GAAG,CAACG,IAAI,CAAC,CAAC,+EAEtBF,OAAO,CAACC,GAAG,aAAK,CAAC,mEAEpB,kBATKJ,eAAc,0CASnB,CACDA,cAAc,EAAE,CAChB;AACF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA;AACA;AACA;AACA,mBACE,aAAK,SAAS,CAAC,qBAAqB,wBAClC,KAAC,MAAM,EACL,MAAM,CAAEN,MAAO,CACf,WAAW,CAAEG,WAAY,CACzB,MAAM,CAAEC,MAAO,CACf,SAAS,CAAEC,SAAU,EACrB,cACF,YAAK,SAAS,CAAC,YAAY,UACxBH,QAAQ,CAACU,GAAG,CAAC,SAACC,KAAK,CAAK,CACvB,mBAAO,KAAC,MAAM,EAAgB,KAAK,CAAEA,KAAM,EAAvBA,KAAK,CAACC,EAAE,CAAkB,CAChD,CAAC,CAAC,EACE,GACF,CAEV,CAAC,CAED,cAAef,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}